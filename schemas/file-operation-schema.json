{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://sadie.local/schemas/file-operation.json",
  "title": "File Manager Operations",
  "description": "Schema for file manager tool operations",
  "type": "object",
  "required": ["action", "parameters"],
  "properties": {
    "action": {
      "type": "string",
      "enum": [
        "read_file",
        "write_file",
        "list_directory",
        "move_file",
        "delete_file",
        "search_files",
        "create_directory",
        "get_file_info"
      ]
    },
    "parameters": {
      "type": "object",
      "oneOf": [
        {
          "description": "Read file parameters",
          "properties": {
            "path": { "type": "string" },
            "encoding": { "type": "string", "default": "utf-8" }
          },
          "required": ["path"]
        },
        {
          "description": "Write file parameters",
          "properties": {
            "path": { "type": "string" },
            "content": { "type": "string" },
            "encoding": { "type": "string", "default": "utf-8" },
            "create_backup": { "type": "boolean", "default": true },
            "append": { "type": "boolean", "default": false }
          },
          "required": ["path", "content"]
        },
        {
          "description": "List directory parameters",
          "properties": {
            "path": { "type": "string" },
            "recursive": { "type": "boolean", "default": false },
            "include_hidden": { "type": "boolean", "default": false }
          },
          "required": ["path"]
        },
        {
          "description": "Move file parameters",
          "properties": {
            "source": { "type": "string" },
            "destination": { "type": "string" },
            "overwrite": { "type": "boolean", "default": false }
          },
          "required": ["source", "destination"]
        },
        {
          "description": "Delete file parameters",
          "properties": {
            "path": { "type": "string" },
            "permanent": { "type": "boolean", "default": false },
            "recursive": { "type": "boolean", "default": false }
          },
          "required": ["path"]
        },
        {
          "description": "Search files parameters",
          "properties": {
            "query": { "type": "string" },
            "path": { "type": "string" },
            "file_pattern": { "type": "string", "default": "*.*" },
            "max_results": { "type": "integer", "minimum": 1, "maximum": 1000, "default": 100 }
          },
          "required": ["query"]
        },
        {
          "description": "Create directory parameters",
          "properties": {
            "path": { "type": "string" },
            "recursive": { "type": "boolean", "default": true }
          },
          "required": ["path"]
        },
        {
          "description": "Get file info parameters",
          "properties": {
            "path": { "type": "string" }
          },
          "required": ["path"]
        }
      ]
    }
  }
}
